@page "/learnBlazor/learnRouting"
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<PageTitle>Routing</PageTitle>
<h1>Routing</h1>

<button @onclick="NavigateToQuery" class="btn btn-primary">Navigate to query parameter</button>
<button class="btn btn-success" @onclick="LoadParameters">Load Parameters</button>
<br/>
<p>Query String Parameters: @Param1 @Param2</p>


@code {
    
    [Parameter]
    public string Param1 { get; set; }
    
    [Parameter]
    public string Param2 { get; set; }

    private void LoadParameters()
    {
        var absoluteUri = new Uri(NavigationManager.Uri);
        var queryParam = System.Web.HttpUtility.ParseQueryString(absoluteUri.Query);
        Param1 = queryParam["Param1"] + " | ";
        Param2 = queryParam["Param2"];
    }

    private void NavigateToQuery()
    {
        NavigationManager.NavigateTo("learnBlazor/learnRouting?Param1=Blazor&Param2=Demo");
    }
    
}